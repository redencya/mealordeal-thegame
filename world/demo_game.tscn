[gd_scene load_steps=18 format=3 uid="uid://ccyorvjv8h5ha"]

[ext_resource type="Script" path="res://testing/GameManager.gd" id="1_srj35"]
[ext_resource type="PackedScene" uid="uid://caal8n4hksro5" path="res://Interface.tscn" id="2_06so6"]
[ext_resource type="PackedScene" uid="uid://c7vmhgofkpp8g" path="res://player/base/player.tscn" id="8_8dvy8"]
[ext_resource type="Script" path="res://testing/Entity.gd" id="10_1l6km"]
[ext_resource type="Resource" uid="uid://d0ccsx1i17f3k" path="res://items/WhiteBread.tres" id="11_fd7ty"]
[ext_resource type="Script" path="res://core/item/Storage.gd" id="12_f0uw4"]
[ext_resource type="Texture2D" uid="uid://cjr1uby4mmqlm" path="res://storage/chest.png" id="13_mm1w0"]
[ext_resource type="PackedScene" uid="uid://ccb3eixagypli" path="res://EnemySpawner.tscn" id="14_ca1fr"]
[ext_resource type="Script" path="res://managers/ExitArea.gd" id="15_j1amt"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_lquqi"]
vertices = PackedVector2Array(303, 387, -63, 303, 8, 66, 304, 21, 524, 74, 661, 240, 627, 279, 795, 685, 253, 564, 841, 338, 974, 504)
polygons = [PackedInt32Array(0, 1, 2, 3, 4, 5, 6), PackedInt32Array(7, 8, 0, 6, 9, 10)]
outlines = [PackedVector2Array(-63, 303, 303, 387, 253, 564, 795, 685, 974, 504, 841, 338, 627, 279, 661, 240, 524, 74, 304, 21, 8, 66)]

[sub_resource type="Gradient" id="Gradient_cgpnl"]
interpolation_mode = 2
colors = PackedColorArray(1, 0.486625, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_wd150"]
gradient = SubResource( "Gradient_cgpnl" )
fill = 1
fill_to = Vector2(1, 1)

[sub_resource type="Resource" id="Resource_p8ufu"]
script = ExtResource( "12_f0uw4" )
items = [ExtResource( "11_fd7ty" ), ExtResource( "11_fd7ty" ), null, null, ExtResource( "11_fd7ty" ), ExtResource( "11_fd7ty" ), null, ExtResource( "11_fd7ty" ), null, null, null, ExtResource( "11_fd7ty" )]
dimensions = Vector2i(4, 3)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_37nh1"]
size = Vector2(24, 7)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fvqp5"]
size = Vector2(15, 64)

[sub_resource type="Gradient" id="Gradient_t450a"]
offsets = PackedFloat32Array(0.26699, 0.990291)
colors = PackedColorArray(0.388235, 0.478431, 0.466667, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_f5avq"]
gradient = SubResource( "Gradient_t450a" )
width = 128

[node name="Game1" type="Node2D"]
position = Vector2(1, -1)
y_sort_enabled = true
script = ExtResource( "1_srj35" )

[node name="Interface" parent="." instance=ExtResource( "2_06so6" )]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
top_level = true
position = Vector2(-2, 1)
navpoly = SubResource( "NavigationPolygon_lquqi" )

[node name="Polygon2D4" type="Polygon2D" parent="."]
position = Vector2(286, 18)
color = Color(0.388235, 0.478431, 0.466667, 1)
offset = Vector2(-288, -17)
polygon = PackedVector2Array(530, 68, 305, 11, 1, 54, -73, 308, 483, 436, 668, 242)

[node name="Polygon2D5" type="Polygon2D" parent="."]
position = Vector2(635, 14)
color = Color(0.388235, 0.478431, 0.466667, 1)
offset = Vector2(-321, 249)
polygon = PackedVector2Array(530, 68, 305, 11, 1, 54, -73, 308, 483, 436, 668, 242)

[node name="Limits" type="StaticBody2D" parent="."]
collision_layer = 32769

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Limits"]
position = Vector2(-9, 4)
build_mode = 1
polygon = PackedVector2Array(248, 568, 805, 696, 956, 538, 964, 530, 1087, 531, 1086, 467, 961, 466, 852, 327, 643, 274, 674, 240, 536, 67, 310, 8, 6, 53, -67, 305, 300, 390)

[node name="Sprite2D" type="Sprite2D" parent="."]
visible = false
position = Vector2(261, 210)
rotation = 1.57079
scale = Vector2(25.2304, 25.2304)
texture = SubResource( "GradientTexture2D_wd150" )

[node name="Player" parent="." instance=ExtResource( "8_8dvy8" )]
position = Vector2(1022, 517)
speed_base = 118.0
run_modifier = 0.62
acceleration = 0.019
deceleration = 0.04

[node name="Chest" type="StaticBody2D" parent="."]
position = Vector2(207, 37)
collision_layer = 257
collision_mask = 257
script = ExtResource( "10_1l6km" )
storage = SubResource( "Resource_p8ufu" )

[node name="Sprite2D" type="Sprite2D" parent="Chest"]
position = Vector2(0, -10)
texture = ExtResource( "13_mm1w0" )

[node name="Polygon2D" type="Polygon2D" parent="Chest/Sprite2D"]
position = Vector2(0, 4)
scale = Vector2(0.253983, 0.256821)
z_index = -1
color = Color(0, 0, 0, 0.196078)
polygon = PackedVector2Array(-30.5381, -4.36258, -39.2633, 4.36259, -30.5381, 13.0878, -13.0878, 21.8129, 13.0878, 21.8129, 30.5381, 13.0878, 39.2633, 4.36259, 30.5381, -4.36258, 13.0878, -13.0878, -13.0878, -13.0878)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chest"]
modulate = Color(0, 0.917647, 1, 1)
position = Vector2(0, -0.5)
shape = SubResource( "RectangleShape2D_37nh1" )

[node name="EnemySpawner" parent="." instance=ExtResource( "14_ca1fr" )]
position = Vector2(39, 257)
target_path = NodePath("../Player")

[node name="EnemySpawner3" parent="." instance=ExtResource( "14_ca1fr" )]
position = Vector2(427, 142)
target_path = NodePath("../Player")

[node name="EnemySpawner4" parent="." instance=ExtResource( "14_ca1fr" )]
position = Vector2(805, 567)
target_path = NodePath("../Player")

[node name="ExitArea" type="Area2D" parent="."]
position = Vector2(1017, 502)
script = ExtResource( "15_j1amt" )
target_scene = "res://world/demo_game2.tscn"

[node name="EntryPoint" type="Position2D" parent="ExitArea"]
position = Vector2(-73, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="ExitArea"]
position = Vector2(53.5, 1)
shape = SubResource( "RectangleShape2D_fvqp5" )

[node name="TransitionExit" type="Sprite2D" parent="."]
position = Vector2(1014, 503)
texture = SubResource( "GradientTexture2D_f5avq" )

[connection signal="body_entered" from="ExitArea" to="ExitArea" method="_on_exit_area_body_entered"]
